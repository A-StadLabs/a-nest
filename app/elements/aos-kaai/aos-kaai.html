<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/core-dropdown/core-dropdown.html">
<link rel="import" href="../../bower_components/core-input/core-input.html">
<link rel="import" href="../../bower_components/core-field/core-field.html">
<link rel="import" href="../../bower_components/core-selector/core-selector.html">
<link rel="import" href="../../bower_components/flag-icon/flag-icon.html">
<link rel="import" href="../../bower_components/notification-elements/src/notification-elements.html">
<link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800|Open+Sans+Condensed:300italic,700,300' rel='stylesheet' type='text/css'>

<polymer-element name="aos-kaai" attributes="environment theme language notification">

  <template>

    <link rel="stylesheet" href="aos-kaai.css" />

    <template if="{{userLoggedin}}">

    <core-toolbar horizontal start-justified layout>
      <core-icon-button icon="chevron-right"></core-icon-button>
      <div class="environment">{{environment}}</div>
      <div horizontal center-justified layout>
        <core-field>
          <core-input placeholder="{{locplaceholder}}" autofocus flex class="searchclass"></core-input>
        </core-field>
      </div>
      <div class="tools" horizontal end-justified layout>
      <core-menu selected="0" selectedIndex="{{selected}}">
        <core-icon-button icon="view-module"></core-icon-button>
        <core-icon-button icon="sort"></core-icon-button>
        <core-icon-button icon="account-circle"></core-icon-button>
        <core-icon-button icon="help"></core-icon-button>
      </core-menu>
      </div>
    </core-toolbar>

    </template>

    <template if="{{!userLoggedin}}">

    <notification-elements id="notif" icon="http://www.daklozenhulpantwerpen.be/images/logos/antwerpen.gif" header="Antwerpen.be / E-Loket" body="Uw reispas ligt klaar aan de balie." duration="1"></notification-elements>

    <core-toolbar horizontal start-justified layout>
      <core-icon-button icon="chevron-right"></core-icon-button>
      <div class="environment">{{environment}}</div>
      <div horizontal center-justified layout>
        <core-field>
          <core-input placeholder="{{locsearch}}" on-change="{{toggleSearch}}" value="{{searchValue}}" autofocus flex class="searchclass"></core-input>
        </core-field>
      </div>
      <div class="tools" horizontal end-justified layout>
      <core-selector id="toolsmenu" >
        <core-icon-button id="btlang" icon="language" on-tap="{{closeAll}}"></core-icon-button>
        <flag-icon key="Belgium"></flag-icon>
        <core-icon-button id="btdock" icon="view-module"></core-icon-button>
        <core-icon-button id="btaccount" icon="account-circle"></core-icon-button>
        <core-icon-button id="bthelp" icon="help"></core-icon-button>
      </core-selector>
      </div>
    </core-toolbar>


    <div id="paneBar">

      <div id="aanmelden" hidden?="{{!loginPane}}">
        <h1>{{locaanmelden}}</h1>
        <core-input placeholder="{{locusername}}"></core-input>
        <core-input placeholder="{{locpassword}}" type="password"></core-input>
        <core-icon-button icon="done" flex>{{locaanmeldcta}}</core-icon-button><br />
        <a href="#">{{locforgot}}</a><br />
        <a href="#">{{locregister}}</a>
      </div>

      <div id="searchpane" hidden?="{{!searchPane}}">
        <h1>{{locsearchresult}} <i>{{searchValue}}</i>:</h1>
      </div>

      <div id="localisationpane" hidden?="{{!locPane}}">
        <p>NL</p>
        <p>EN</p>
        <p>FR</p>
        <p>DE</p>
      </div>

    </div>

    </template>

  </template>

  <script>

    Polymer({

      ready: function() {

        // Localisation voorlopig
        this.locusername = 'Gebruikersnaam';
        this.locsearch = 'Wat wil je vinden?';
        this.locpassword = 'Wachtwoord';
        this.locaanmelden = 'Aanmelden met A-profiel';
        this.locaanmeldcta = 'Aanmelden';
        this.locforgot = 'Ik ben mijn gegevens vergeten';
        this.locregister = 'Ik heb nog geen A-profiel';
        this.locsearchresult = 'Zoekresultaten voor';

        // Toggle menu shit
        this.$.toolsmenu.addEventListener('core-select', function(){
          console.log('is selected');
        });
      },

      notificationChanged: function(){
        this.$.notif.notify();
      },

      closeAll: function(){
        this.$.toolsmenu.selected = -1;
      },

      toggleLogin: function(){
        this.closeAll();
        this.loginPane = !this.loginPane;
      },

      toggleLang: function(){
        this.closeAll();
        this.locPane = !this.locPane;
      },

      toggleSearch: function(){
        this.closeAll();
        this.searchPane = !this.searchPane;
      },

      selectAction: function(e, detail) {
        if (detail.isSelected) {
          var selectedItem = detail.item;
          console.log(selectedItem);
        }
      }

    });

  </script>

</polymer-element>
