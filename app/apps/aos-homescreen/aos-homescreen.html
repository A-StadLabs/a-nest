<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../../bower_components/juicy-tile-list/src/juicy-tile-list.html">
<link rel="import" href="../../elements/aos-artikel/aos-artikel.html">
<link rel="import" href="../../elements/aos-quickstart/aos-quickstart.html">

<polymer-element name="aos-homescreen" attributes="">

  <!-- <template bind> -->
  <template if="{{setup}}">

    <link rel="stylesheet" href="aos-homescreen.css" />
<!-- <core-ajax 
url="https://www.antwerpen.be/srv/kanalen/d/homefeed/0/10" 
headers='{"AOS": "5ges4797on2j0qf9fj93kfe5l3"}' 
method="GET" auto handleAs="json" response="{{resultaat}}"></core-ajax> -->

  <aos-quickstart size="200"></aos-quickstart>

<core-ajax 
url="https://www.antwerpen.be/srv/kanalen/d/homefeed/0/10"
method="GET" 
auto 
handleAs="json" 
response="{{resultaat}}"></core-ajax>
<juicy-tile-list setup="{{setup}}" gap="20" id="jlist"> 
  <template if="{{tips}}">
  <div class="tip">
    <div class="container">
    <core-icon-button icon="close" on-tap="{{hideTips}}"><small>niet meer weergeven</small></core-icon-button>
    <h3>Wist je dat je dit startscherm kan personaliseren?</h3>
    <core-icon-button icon="arrow-forward">Ga naar mijn instellingen</core-icon-button>
    </div>
  </div>
  </template>
  <template repeat="{{a in resultaat.data}}">
    <aos-artikel object="{{a}}" mode="short" class="item"></aos-artikel>
  </template>
</juicy-tile-list>
  </template>

  <script>

    Polymer({

      hideTips: function(){
        //var that = this;
        console.log('wtf?');
        this.tips = false;
        this.$.jlist.refresh();
      },

      ready: function() {
       
        this.tips = true;

      	console.log('Homescreen app loaded.');

        this.setup = {
                gutter: 20,
                items:[
                    // 011
                    // 233
                    // 2
                    // prioritized
                    // 
                    // 110
                    // 233
                    // 2
                    {
                        index:0,
                        priority:0.9,// 0.6,
                        width: 300,
                        height: 200,
                        heightAuto: true
                    },
                    {
                        index:1,
                        priority:0.4,// 0.9,
                        width: 300,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:2,
                        priority:0.4,// 0.3,
                        width: 200,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:3,
                        priority:0.4,
                        width: 300,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:4,
                        priority:0.4,
                        width: 300,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:5,
                        priority:0.4,
                        width: 200,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:6,
                        priority:0.4,
                        width: 300,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:7,
                        priority:0.4,
                        width: 300,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:8,
                        priority:0.4,
                        width: 200,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:9,
                        priority:0.4,
                        width: 300,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:10,
                        priority:0.4,
                        width: 300,
                        height: 400,
                        heightAuto: true
                    },
                    {
                        index:11,
                        priority:0.4,
                        width: 300,
                        height: 400,
                        heightAuto: true
                    },
                    
                    // 
                    // 122
                    // 145
                    // 333
                    // 
                    // {
                    //   width: 400,
                    //   height: 2
                    // }, {
                    //   width: 400,
                    //   height:  100
                    // }, {
                    //   width: 600,
                    //   height:  100
                    // }, {
                    //   width: 300,
                    //   height:  100
                    // }, {
                    //   width: 200,
                    //   height:  100
                    // }
                ]
            }

        }

    });

  </script>

</polymer-element>
