<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/core-ajax/core-ajax.html">

<polymer-element name="aos-addinfosub" attributes="selectedCat">
  <template>
    <link rel="stylesheet" href="aos-addinfosub.css">
    <core-ajax method="POST" id="subPost" handleAs="json" data url="https://blazing-fire-6426.firebaseio.com/infocenter/{{selectedCat}}/subcategories/.json">
</core-ajax>
    <div class="overlay">
      <h2>Subcategorie toevoegen</h2>
      <core-icon-button icon="close" core-overlay-toggle></core-icon-button>
      <input placeholder="Categorie" autofocus value="{{subcategorie}}">
      <input placeholder="Beschrijving" value="{{subshorttxt}}">
      <button on-tap="{{saveSubCat}}">Opslaan</button>
      </div>


  </template>
  <script>
    (function () {
      'use strict';

      Polymer({
        // define element prototype here


      saveSubCat: function(){
        this.subpost = { "subtitel": this.subcategorie,
                          "subshorttxt": this.subshorttxt,
                    };
        this.subpost = JSON.stringify(this.subpost);
        
        this.$.subPost.body = this.subpost;
        
        this.$.subPost.go();
      },
      });

    })();
  </script>
</polymer-element>
