<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/firebase-element/firebase-element.html">
<link rel="import" href="../cl-voteitem/cl-voteitem.html">
<link rel="import" href="../time-ago/src/time-ago.html">
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.3/moment-with-locales.min.js"></script>

<polymer-element name="babbelbox-comments" attributes="key">

  <template>

    <link rel="stylesheet" href="../../aos-babbelbox.css" />

    <firebase-element id="FBgeneral" location="https://blazing-fire-6426.firebaseio.com/babbelbox/{{key}}/comments" orderByChild="votes" data="{{comments}}" keys="{{commkeys}}" on-data-change="{{handleResponse}}" id="fbComments"></firebase-element>

    <template repeat="{{c in commkeys}}">
    <p>{{comments[c].title}}</p>
    <time-ago datetime="{{comments[c].time}}"></time-ago>
    </template>

  </template>

  <script>

    Polymer({

      ready: function() {

      	console.log('Babbelbox entry loaded.'); 

        }


    });

  </script>

</polymer-element>
