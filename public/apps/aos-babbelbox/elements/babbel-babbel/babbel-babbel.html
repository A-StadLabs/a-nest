<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../time-ago/src/time-ago.html">
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.3/moment-with-locales.min.js"></script>
<link rel="import" href="../cl-voteitem/cl-voteitem.html">
<link rel="import" href="../babbel-antwoord/babbel-antwoord.html">
<link rel="import" href="../babbel-postcomment/babbel-postcomment.html">


<polymer-element name="babbel-babbel" attributes="childOf key object mode parentObject">

  <template>
<!--     <link rel="stylesheet" href="babbel-babbel.css" /> -->
        <link rel="stylesheet" href="../../aos-babbelroot.css" />

    <template if="{{mode=='parent'}}">

    <div class="convitem" horizontal layout start start-justified>
      <div class="updownbtns" vertical layout center>
        <cl-voteitem key="{{key}}" votes="{{object.votes}}" mode="{{mode}}"></cl-voteitem>
      </div>
      <div class="convcontent" vertical layout start on-tap="{{fireSelect}}">
      <h1 on-tap="{{gotoDetail}}" key="{{key}}" name="convSelected">{{object.title}}</h1>
        <small>
          <time-ago datetime="{{object.time}}"></time-ago> | 
          <span class="convcomments"> 112 reacties </span>
        </small>
      </div>
      </div>

      </template>

      <template if="{{mode=='child'}}">

      <div class="convitem" horizontal layout start start-justified>
      <div class="updownbtns" vertical layout center>
        <cl-voteitem key="{{key}}" votes="{{object.votes}}"></cl-voteitem>
      </div>
      <div class="convcontent" vertical layout start on-tap="{{fireSelect}}">
      <h2 on-tap="{{gotoDetail}}" key="{{key}}" name="convSelected">{{object.title}}</h2>
        <small>
          <time-ago datetime="{{object.time}}"></time-ago> | 
          <span class="convcomments"> 112 reacties </span>
        </small>
      </div>
      </div>

      </template>
    
  </template>

  <script>

    

    Polymer({

      ready: function(){
      },

      handleResponse: function(){
        console.log(this.dataa);
      }

      // fireTerug: function(){
      //   this.fire('babbel-open', {'key': this.key, 'mother': this.childOf})
      // },

      

      // fireSelect: function(){
      //   if(this.mode=='parent'){
      //     this.fire('babbel-select', {key: this.key, data: this.object})
      //   } else {
      //     this.fire('babbel-select', {key: this.key, data: this.object})
      //   }
      // }

      


    });

  </script>

</polymer-element>
