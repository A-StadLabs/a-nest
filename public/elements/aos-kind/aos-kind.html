<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/firebase-element/firebase-element.html">
<link rel="import" href="../aos-edit/aos-edit.html">

<polymer-element name="aos-aprofiel" attributes="type key value userid">
  <template>
    <link rel="stylesheet" href="aos-aprofiel.css" />
    
    <h1 on-tap="{{toggleEdit}}">A-Profiel</h1>

    <!-- EDIT MODE (dit moet in een nieuwe component "aos-edit" ) -->
    <aos-edit userid="{{userid}}" value="{{value}}" type="{{type}}" hidden?="{{!editmode}}"></aos-edit>
    <div hidden?="{{editmode}}" on-tap="{{toggleEdit}}">{{value}}</div>
    <!-- hier moet een knopke bijkomen "CANCEL" om terug UIT de edit mode te gaan zonder wijzigen, 
    of "SUBMIT" om de nieuwe waarde op te slaan. -->
    
</template>
<script>
    Polymer({

      ready: function(){
        this.editmode = false;
      },

      toggleEdit: function(){
        console.log('edit mode: ', this.editmode);
        this.editmode = !this.editmode;
      },

      useridChanged: function(){
        var that = this;
        var userid = this.userid;
        var type = this.type;
        var getValue = new Firebase("https://blazing-fire-6426.firebaseio.com/universe/user/"+userid+"/values/"+type+"/");
        getValue.once("value", function(snap){
          console.log(snap.val());
          that.value = snap.val();
        });
      },
      

    });
</script>
</polymer-element>