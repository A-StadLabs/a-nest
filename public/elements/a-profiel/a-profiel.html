<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../elements/a-avatar/a-avatar.html">
<link rel="import" href="../../../../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../../../../bower_components/core-menu/core-menu.html">
<link rel="import" href="../../../../bower_components/core-pages/core-pages.html">
<link rel="import" href="../../../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../../../bower_components/core-item/core-item.html">
<link rel="import" href="../../../../elements/aos-globals/aos-globals.html">

<polymer-element name="a-profiel" attributes="">
  <template>
    <link rel="stylesheet" href="a-profiel.css" />
	
	<aos-globals values="{{globals}}"></aos-globals>

    <core-toolbar>
		<core-icon-button icon="arrow-back" on-tap="{{goHome}}"></core-icon-button>
		<span flex></span>
	</core-toolbar>
	<div vertical layout center>
		<a-avatar user="{{globals.user.gsm}}" avatar="{{avatar}}"></a-avatar>
	</div>

    <core-menu valueattr="label" selected="{{categorie}}">
      <core-item label="snitten"></core-item>
      <core-item label="gezichten"></core-item>
      <core-item label="accs"></core-item>
    </core-menu>
	
    <core-pages selected="{{categorie}}" valueattr="cat">
	<section cat="snitten">
		<template repeat="{{i in snitten}}">
			<img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
		</template>
	</section>
	
	<section cat="gezichten">
		<template repeat="{{i in gezichten}}">
			<img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
		</template>
	</section>

	<section cat="accs">
		<template repeat="{{i in accs}}">
			<img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
		</template>
	</section>

	<section cat="baarden">
		<template repeat="{{i in baarden}}">
			<img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
		</template>
	</section>

	<section cat="snorren">
		<template repeat="{{i in snorren}}">
			<img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
		</template>
	</section>

    <section cat="tops">
        <template repeat="{{i in tops}}">
            <img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
        </template>
    </section>

    <section cat="bottoms">
        <template repeat="{{i in bottoms}}">
            <img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
        </template>
    </section>

    <section cat="lijfs">
        <template repeat="{{i in lijfs}}">
            <img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
        </template>
    </section>

    <section cat="shoess">
        <template repeat="{{i in shoess}}">
            <img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
        </template>
    </section>

    <section cat="oogmonds">
        <template repeat="{{i in oogmonds}}">
            <img src="{{i.src}}" cat="{{i.item}}" on-tap="{{selectItem}}" width="80" height="144">
        </template>
    </section>
    </core-pages>

</template>
<script>
var avatar = [];

    Polymer({

    	ready: function(){

            //console.log(JSON.stringify(this.globals));
            this.categorie = "lijfs";
            avatar = this.globals.user.avatar;
            //this.globals.user.avatar = avatar;

     		var gezichten = [];
    		var snitten = [];
    		var snorren = [];
    		var baarden = [];
    		var accs = [];
            var oogmonds = [];
            var lijfs = [];
            var tops = [];
            var bottoms = [];
            var shoess = [];

    		var that = this;

    		var getBodyft = new Firebase("https://blazing-fire-6426.firebaseio.com/profielimgs/");
    		getBodyft.on("child_added", function(snapshot){
    			//console.log(snapshot.val());
    			switch (snapshot.val().item){
    				case "gezicht":
    					gezichten.push({"item": snapshot.val().item, "src": snapshot.val().url});
    					break;
    				case "snit":
    					snitten.push({"item": snapshot.val().item, "src": snapshot.val().url});
    					break;
    				case "baard":
    					baarden.push({"item": snapshot.val().item, "src": snapshot.val().url});
    					break;
    				case "snor":
    					snorren.push({"item": snapshot.val().item, "src": snapshot.val().url});
    					break;
    				case "acc":
    					accs.push({"item": snapshot.val().item, "src": snapshot.val().url});
    					break;
                    case "oogmond":
                        oogmonds.push({"item": snapshot.val().item, "src": snapshot.val().url});
                        break;
                    case "lijf":
                        lijfs.push({"item": snapshot.val().item, "src": snapshot.val().url});
                        break;
                    case "top":
                        tops.push({"item": snapshot.val().item, "src": snapshot.val().url});
                        break;
                    case "bottom":
                        bottoms.push({"item": snapshot.val().item, "src": snapshot.val().url});
                        break;
                    case "shoes":
                        shoess.push({"item": snapshot.val().item, "src": snapshot.val().url});
                        break;
    			};

    			that.gezichten = gezichten;
    			that.snorren = snorren;
    			that.baarden = baarden;
    			that.accs = accs;
    			that.snitten = snitten;
                that.tops = tops;
                that.bottoms = bottoms;
                that.shoess = shoess;
                that.lijfs = lijfs;
                that.oogmonds = oogmonds;
    		});

    	},

    	selectItem: function(e){
            avatar[e.target.getAttribute('cat')] = e.target.getAttribute('src');
            this.globals.user.avatar = avatar;
            console.log('item: ', e.target.getAttribute('cat'));
    	},

        goHome: function(){
            this.fire("router-go", {naarwaar: "/home"});
        }
    	
    });

</script>
</polymer-element>